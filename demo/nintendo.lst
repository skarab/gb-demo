                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.0 #12072 (MINGW32)
                                      4 ;--------------------------------------------------------
                                      5 	.module nintendo
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl b_Scene_Nintendo
                                     12 	.globl _Scene_Nintendo
                                     13 	.globl _update_slots
                                     14 	.globl _get_next_tile
                                     15 	.globl _init_slots
                                     16 	.globl _get_bkg_tiles
                                     17 	.globl _set_bkg_tiles
                                     18 	.globl _wait_vbl_done
                                     19 	.globl _tile_y
                                     20 	.globl _tile_x
                                     21 	.globl _slots
                                     22 	.globl ___bank_nintendo
                                     23 ;--------------------------------------------------------
                                     24 ; special function registers
                                     25 ;--------------------------------------------------------
                                     26 ;--------------------------------------------------------
                                     27 ; ram data
                                     28 ;--------------------------------------------------------
                                     29 	.area _DATA
      000000                         30 _slots::
      000000                         31 	.ds 50
      000032                         32 _tile_x::
      000032                         33 	.ds 1
      000033                         34 _tile_y::
      000033                         35 	.ds 1
                                     36 ;--------------------------------------------------------
                                     37 ; absolute external ram data
                                     38 ;--------------------------------------------------------
                                     39 	.area _DABS (ABS)
                                     40 ;--------------------------------------------------------
                                     41 ; global & static initialisations
                                     42 ;--------------------------------------------------------
                                     43 	.area _HOME
                                     44 	.area _GSINIT
                                     45 	.area _GSFINAL
                                     46 	.area _GSINIT
                                     47 ;src\nintendo.c:9: UINT8 tile_x = 0;
      000000 21r32r00                48 	ld	hl, #_tile_x
      000003 36 00                   49 	ld	(hl), #0x00
                                     50 ;src\nintendo.c:10: UINT8 tile_y = 0;
      000005 21r33r00                51 	ld	hl, #_tile_y
      000008 36 00                   52 	ld	(hl), #0x00
                                     53 ;--------------------------------------------------------
                                     54 ; Home
                                     55 ;--------------------------------------------------------
                                     56 	.area _HOME
                                     57 	.area _HOME
                                     58 ;--------------------------------------------------------
                                     59 ; code
                                     60 ;--------------------------------------------------------
                                     61 	.area _CODE_1
                                     62 ;src\nintendo.c:12: void init_slots()
                                     63 ;	---------------------------------
                                     64 ; Function init_slots
                                     65 ; ---------------------------------
      000000                         66 _init_slots::
      000000 3B                      67 	dec	sp
                                     68 ;src\nintendo.c:14: for (UINT8 i=0 ; i<slots_max_count ; ++i)
      000001 AF                      69 	xor	a, a
      000002 F8 00                   70 	ldhl	sp,	#0
      000004 77                      71 	ld	(hl), a
      000005                         72 00103$:
      000005 F8 00                   73 	ldhl	sp,	#0
                                     74 ;src\nintendo.c:16: slots[i*5+2] = 0;
      000007 7E                      75 	ld	a,(hl)
      000008 FE 0A                   76 	cp	a,#0x0a
      00000A 30 46                   77 	jr	NC, 00101$
      00000C 4F                      78 	ld	c, a
      00000D 87                      79 	add	a, a
      00000E 87                      80 	add	a, a
      00000F 81                      81 	add	a, c
      000010 4F                      82 	ld	c, a
      000011 3C                      83 	inc	a
      000012 3C                      84 	inc	a
      000013 5F                      85 	ld	e, a
      000014 17                      86 	rla
      000015 9F                      87 	sbc	a, a
      000016 57                      88 	ld	d, a
      000017 21r00r00                89 	ld	hl, #_slots
      00001A 19                      90 	add	hl, de
      00001B 36 00                   91 	ld	(hl), #0x00
                                     92 ;src\nintendo.c:17: slots[i*5+3] = 255;
      00001D 79                      93 	ld	a, c
      00001E 3C                      94 	inc	a
      00001F 3C                      95 	inc	a
      000020 3C                      96 	inc	a
      000021 5F                      97 	ld	e, a
      000022 17                      98 	rla
      000023 9F                      99 	sbc	a, a
      000024 57                     100 	ld	d, a
      000025 21r00r00               101 	ld	hl, #_slots
      000028 19                     102 	add	hl, de
      000029 36 FF                  103 	ld	(hl), #0xff
                                    104 ;src\nintendo.c:18: slots[i*5+4] = i%3+1;
      00002B 0C                     105 	inc	c
      00002C 0C                     106 	inc	c
      00002D 0C                     107 	inc	c
      00002E 0C                     108 	inc	c
      00002F 79                     109 	ld	a, c
      000030 17                     110 	rla
      000031 9F                     111 	sbc	a, a
      000032 47                     112 	ld	b, a
      000033 21r00r00               113 	ld	hl, #_slots
      000036 09                     114 	add	hl, bc
      000037 4D                     115 	ld	c, l
      000038 44                     116 	ld	b, h
      000039 F8 00                  117 	ldhl	sp,	#0
      00003B 5E                     118 	ld	e, (hl)
      00003C 16 00                  119 	ld	d, #0x00
      00003E C5                     120 	push	bc
      00003F 21 03 00               121 	ld	hl, #0x0003
      000042 E5                     122 	push	hl
      000043 D5                     123 	push	de
      000044 CDr00r00               124 	call	__modsint
      000047 E8 04                  125 	add	sp, #4
      000049 C1                     126 	pop	bc
      00004A 7B                     127 	ld	a, e
      00004B 3C                     128 	inc	a
      00004C 02                     129 	ld	(bc), a
                                    130 ;src\nintendo.c:14: for (UINT8 i=0 ; i<slots_max_count ; ++i)
      00004D F8 00                  131 	ldhl	sp,	#0
      00004F 34                     132 	inc	(hl)
      000050 18 B3                  133 	jr	00103$
      000052                        134 00101$:
                                    135 ;src\nintendo.c:21: tile_x = 0;
      000052 21r32r00               136 	ld	hl, #_tile_x
      000055 36 00                  137 	ld	(hl), #0x00
                                    138 ;src\nintendo.c:22: tile_y = 0;
      000057 21r33r00               139 	ld	hl, #_tile_y
      00005A 36 00                  140 	ld	(hl), #0x00
                                    141 ;src\nintendo.c:23: }
      00005C 33                     142 	inc	sp
      00005D C9                     143 	ret
                           000001   144 ___bank_nintendo	=	0x0001
                                    145 ;src\nintendo.c:25: UINT8 get_next_tile(UINT8* x, UINT8* y, UINT8* id)
                                    146 ;	---------------------------------
                                    147 ; Function get_next_tile
                                    148 ; ---------------------------------
      00005E                        149 _get_next_tile::
      00005E 3B                     150 	dec	sp
                                    151 ;src\nintendo.c:27: while (1)
      00005F                        152 00108$:
                                    153 ;src\nintendo.c:29: UINT8 tx = tile_x;
      00005F 21r32r00               154 	ld	hl, #_tile_x
      000062 4E                     155 	ld	c, (hl)
                                    156 ;src\nintendo.c:30: UINT8 ty = tile_y;
      000063 21r33r00               157 	ld	hl, #_tile_y
      000066 46                     158 	ld	b, (hl)
                                    159 ;src\nintendo.c:32: ++tile_x;
      000067 21r32r00               160 	ld	hl, #_tile_x
      00006A 34                     161 	inc	(hl)
                                    162 ;src\nintendo.c:33: if (tile_x==160/8)
      00006B 7E                     163 	ld	a, (hl)
      00006C D6 14                  164 	sub	a, #0x14
      00006E 20 09                  165 	jr	NZ, 00102$
                                    166 ;src\nintendo.c:35: tile_x = 0;
      000070 21r32r00               167 	ld	hl, #_tile_x
      000073 36 00                  168 	ld	(hl), #0x00
                                    169 ;src\nintendo.c:36: ++tile_y;
      000075 21r33r00               170 	ld	hl, #_tile_y
      000078 34                     171 	inc	(hl)
      000079                        172 00102$:
                                    173 ;src\nintendo.c:39: if (tile_y==144/8)
      000079 FAr33r00               174 	ld	a, (#_tile_y)
                                    175 ;src\nintendo.c:40: return 0;
      00007C D6 12                  176 	sub	a,#0x12
      00007E 20 03                  177 	jr	NZ, 00104$
      000080 5F                     178 	ld	e,a
      000081 18 2E                  179 	jr	00110$
      000083                        180 00104$:
                                    181 ;src\nintendo.c:43: get_bkg_tiles(tx, ty, 1, 1, &tileId);
      000083 F8 00                  182 	ldhl	sp,	#0
      000085 E5                     183 	push	hl
      000086 11 01 01               184 	ld	de, #0x0101
      000089 D5                     185 	push	de
      00008A C5                     186 	push	bc
      00008B 33                     187 	inc	sp
      00008C 79                     188 	ld	a, c
      00008D F5                     189 	push	af
      00008E 33                     190 	inc	sp
      00008F CDr00r00               191 	call	_get_bkg_tiles
      000092 E8 06                  192 	add	sp, #6
                                    193 ;src\nintendo.c:44: if (tileId!=0)
      000094 F8 00                  194 	ldhl	sp,	#0
      000096 7E                     195 	ld	a, (hl)
      000097 B7                     196 	or	a, a
      000098 28 C5                  197 	jr	Z, 00108$
                                    198 ;src\nintendo.c:46: *x = tx;
      00009A F8 03                  199 	ldhl	sp,#3
      00009C 2A                     200 	ld	a, (hl+)
      00009D 5F                     201 	ld	e, a
      00009E 56                     202 	ld	d, (hl)
      00009F 79                     203 	ld	a, c
      0000A0 12                     204 	ld	(de), a
                                    205 ;src\nintendo.c:47: *y = ty;
      0000A1 23                     206 	inc	hl
      0000A2 2A                     207 	ld	a, (hl+)
      0000A3 5F                     208 	ld	e, a
      0000A4 56                     209 	ld	d, (hl)
      0000A5 78                     210 	ld	a, b
      0000A6 12                     211 	ld	(de), a
                                    212 ;src\nintendo.c:48: *id = tileId;
      0000A7 23                     213 	inc	hl
      0000A8 2A                     214 	ld	a, (hl+)
      0000A9 4F                     215 	ld	c, a
      0000AA 46                     216 	ld	b, (hl)
      0000AB F8 00                  217 	ldhl	sp,	#0
      0000AD 7E                     218 	ld	a, (hl)
      0000AE 02                     219 	ld	(bc), a
                                    220 ;src\nintendo.c:49: return 1;
      0000AF 1E 01                  221 	ld	e, #0x01
      0000B1                        222 00110$:
                                    223 ;src\nintendo.c:52: }
      0000B1 33                     224 	inc	sp
      0000B2 C9                     225 	ret
                                    226 ;src\nintendo.c:55: UINT8 update_slots()
                                    227 ;	---------------------------------
                                    228 ; Function update_slots
                                    229 ; ---------------------------------
      0000B3                        230 _update_slots::
      0000B3 E8 EF                  231 	add	sp, #-17
                                    232 ;src\nintendo.c:57: UINT8 usedSlots = 0;
      0000B5 AF                     233 	xor	a, a
      0000B6 F8 0F                  234 	ldhl	sp,	#15
      0000B8 77                     235 	ld	(hl), a
                                    236 ;src\nintendo.c:59: for (UINT8 i=0 ; i<slots_max_count ; ++i)
      0000B9 AF                     237 	xor	a, a
      0000BA 23                     238 	inc	hl
      0000BB 77                     239 	ld	(hl), a
      0000BC                        240 00116$:
      0000BC F8 10                  241 	ldhl	sp,	#16
                                    242 ;src\nintendo.c:61: if (slots[i*5+2]==0)
      0000BE 7E                     243 	ld	a,(hl)
      0000BF FE 0A                  244 	cp	a,#0x0a
      0000C1 D2r49r02               245 	jp	NC,00114$
      0000C4 4F                     246 	ld	c, a
      0000C5 87                     247 	add	a, a
      0000C6 87                     248 	add	a, a
      0000C7 81                     249 	add	a, c
      0000C8 F8 04                  250 	ldhl	sp,	#4
      0000CA 77                     251 	ld	(hl), a
      0000CB 3C                     252 	inc	a
      0000CC 3C                     253 	inc	a
      0000CD 4F                     254 	ld	c, a
      0000CE 17                     255 	rla
      0000CF 9F                     256 	sbc	a, a
      0000D0 47                     257 	ld	b, a
      0000D1 21r00r00               258 	ld	hl, #_slots
      0000D4 09                     259 	add	hl, bc
      0000D5 E5                     260 	push	hl
      0000D6 7D                     261 	ld	a, l
      0000D7 F8 07                  262 	ldhl	sp,	#7
      0000D9 77                     263 	ld	(hl), a
      0000DA E1                     264 	pop	hl
      0000DB 7C                     265 	ld	a, h
      0000DC F8 06                  266 	ldhl	sp,	#6
      0000DE 32                     267 	ld	(hl-), a
      0000DF 2A                     268 	ld	a, (hl+)
      0000E0 5F                     269 	ld	e, a
      0000E1 56                     270 	ld	d, (hl)
      0000E2 1A                     271 	ld	a, (de)
      0000E3 4F                     272 	ld	c, a
                                    273 ;src\nintendo.c:66: slots[i*5+0] = x;
      0000E4 2B                     274 	dec	hl
      0000E5 2B                     275 	dec	hl
      0000E6 7E                     276 	ld	a, (hl)
      0000E7 5F                     277 	ld	e, a
      0000E8 17                     278 	rla
      0000E9 9F                     279 	sbc	a, a
      0000EA 57                     280 	ld	d, a
                                    281 ;src\nintendo.c:67: slots[i*5+1] = y;
      0000EB 46                     282 	ld	b, (hl)
      0000EC 04                     283 	inc	b
                                    284 ;src\nintendo.c:69: slots[i*5+3] = 255;
      0000ED 7E                     285 	ld	a, (hl)
      0000EE C6 03                  286 	add	a, #0x03
      0000F0 F8 0E                  287 	ldhl	sp,	#14
      0000F2 77                     288 	ld	(hl), a
                                    289 ;src\nintendo.c:66: slots[i*5+0] = x;
                                    290 ;c
      0000F3 21r00r00               291 	ld	hl, #_slots
      0000F6 19                     292 	add	hl, de
      0000F7 E5                     293 	push	hl
      0000F8 7D                     294 	ld	a, l
      0000F9 F8 09                  295 	ldhl	sp,	#9
      0000FB 77                     296 	ld	(hl), a
      0000FC E1                     297 	pop	hl
      0000FD 7C                     298 	ld	a, h
      0000FE F8 08                  299 	ldhl	sp,	#8
      000100 77                     300 	ld	(hl), a
                                    301 ;src\nintendo.c:67: slots[i*5+1] = y;
      000101 78                     302 	ld	a, b
      000102 F5                     303 	push	af
      000103 17                     304 	rla
      000104 9F                     305 	sbc	a, a
      000105 57                     306 	ld	d, a
      000106 F8 10                  307 	ldhl	sp,	#16
      000108 7E                     308 	ld	a, (hl)
      000109 5F                     309 	ld	e, a
      00010A 17                     310 	rla
      00010B 9F                     311 	sbc	a, a
      00010C 47                     312 	ld	b, a
      00010D F1                     313 	pop	af
                                    314 ;src\nintendo.c:67: slots[i*5+1] = y;
      00010E D5                     315 	push	de
                                    316 ;c
      00010F 5F                     317 	ld	e, a
      000110 21r00r00               318 	ld	hl, #_slots
      000113 19                     319 	add	hl, de
      000114 D1                     320 	pop	de
      000115 E5                     321 	push	hl
      000116 7D                     322 	ld	a, l
      000117 F8 0B                  323 	ldhl	sp,	#11
      000119 77                     324 	ld	(hl), a
      00011A E1                     325 	pop	hl
      00011B 7C                     326 	ld	a, h
      00011C F8 0A                  327 	ldhl	sp,	#10
      00011E 77                     328 	ld	(hl), a
                                    329 ;src\nintendo.c:69: slots[i*5+3] = 255;
                                    330 ;c
      00011F 50                     331 	ld	d, b
      000120 21r00r00               332 	ld	hl, #_slots
      000123 19                     333 	add	hl, de
      000124 E5                     334 	push	hl
      000125 7D                     335 	ld	a, l
      000126 F8 0D                  336 	ldhl	sp,	#13
      000128 77                     337 	ld	(hl), a
      000129 E1                     338 	pop	hl
      00012A 7C                     339 	ld	a, h
      00012B F8 0C                  340 	ldhl	sp,	#12
      00012D 77                     341 	ld	(hl), a
                                    342 ;src\nintendo.c:61: if (slots[i*5+2]==0)
      00012E 79                     343 	ld	a, c
      00012F B7                     344 	or	a, a
      000130 20 5F                  345 	jr	NZ, 00104$
                                    346 ;src\nintendo.c:64: if (get_next_tile(&x, &y, &id))
      000132 F8 02                  347 	ldhl	sp,	#2
      000134 7D                     348 	ld	a, l
      000135 54                     349 	ld	d, h
      000136 F8 0D                  350 	ldhl	sp,	#13
      000138 22                     351 	ld	(hl+), a
      000139 72                     352 	ld	(hl), d
      00013A F8 01                  353 	ldhl	sp,	#1
      00013C 5D                     354 	ld	e, l
      00013D 54                     355 	ld	d, h
      00013E F8 00                  356 	ldhl	sp,	#0
      000140 4D                     357 	ld	c, l
      000141 44                     358 	ld	b, h
      000142 F8 0D                  359 	ldhl	sp,	#13
      000144 2A                     360 	ld	a, (hl+)
      000145 66                     361 	ld	h, (hl)
      000146 6F                     362 	ld	l, a
      000147 E5                     363 	push	hl
      000148 D5                     364 	push	de
      000149 C5                     365 	push	bc
      00014A CDr5Er00               366 	call	_get_next_tile
      00014D E8 06                  367 	add	sp, #6
      00014F 7B                     368 	ld	a, e
      000150 B7                     369 	or	a, a
      000151 28 3E                  370 	jr	Z, 00104$
                                    371 ;src\nintendo.c:66: slots[i*5+0] = x;
      000153 F8 07                  372 	ldhl	sp,#7
      000155 2A                     373 	ld	a, (hl+)
      000156 5F                     374 	ld	e, a
      000157 56                     375 	ld	d, (hl)
      000158 F8 00                  376 	ldhl	sp,	#0
      00015A 7E                     377 	ld	a, (hl)
      00015B 12                     378 	ld	(de), a
                                    379 ;src\nintendo.c:67: slots[i*5+1] = y;
      00015C F8 09                  380 	ldhl	sp,#9
      00015E 2A                     381 	ld	a, (hl+)
      00015F 5F                     382 	ld	e, a
      000160 56                     383 	ld	d, (hl)
      000161 F8 01                  384 	ldhl	sp,	#1
      000163 7E                     385 	ld	a, (hl)
      000164 12                     386 	ld	(de), a
                                    387 ;src\nintendo.c:68: slots[i*5+2] = id;
      000165 F8 05                  388 	ldhl	sp,#5
      000167 2A                     389 	ld	a, (hl+)
      000168 5F                     390 	ld	e, a
      000169 56                     391 	ld	d, (hl)
      00016A F8 02                  392 	ldhl	sp,	#2
      00016C 7E                     393 	ld	a, (hl)
      00016D 12                     394 	ld	(de), a
                                    395 ;src\nintendo.c:69: slots[i*5+3] = 255;
      00016E F8 0B                  396 	ldhl	sp,	#11
      000170 2A                     397 	ld	a, (hl+)
      000171 66                     398 	ld	h, (hl)
      000172 6F                     399 	ld	l, a
      000173 36 FF                  400 	ld	(hl), #0xff
                                    401 ;src\nintendo.c:71: UINT8 clear = 0;
      000175 AF                     402 	xor	a, a
      000176 F8 03                  403 	ldhl	sp,	#3
      000178 77                     404 	ld	(hl), a
                                    405 ;src\nintendo.c:72: set_bkg_tiles(x, y, 1, 1, &clear);
      000179 F8 03                  406 	ldhl	sp,	#3
      00017B E5                     407 	push	hl
      00017C 11 01 01               408 	ld	de, #0x0101
      00017F D5                     409 	push	de
      000180 F8 05                  410 	ldhl	sp,	#5
      000182 7E                     411 	ld	a, (hl)
      000183 F5                     412 	push	af
      000184 33                     413 	inc	sp
      000185 2B                     414 	dec	hl
      000186 7E                     415 	ld	a, (hl)
      000187 F5                     416 	push	af
      000188 33                     417 	inc	sp
      000189 CDr00r00               418 	call	_set_bkg_tiles
      00018C E8 06                  419 	add	sp, #6
                                    420 ;src\nintendo.c:73: ++usedSlots;
      00018E F8 0F                  421 	ldhl	sp,	#15
      000190 34                     422 	inc	(hl)
      000191                        423 00104$:
                                    424 ;src\nintendo.c:77: if (slots[i*5+2]!=0)
      000191 F8 05                  425 	ldhl	sp,#5
      000193 2A                     426 	ld	a, (hl+)
      000194 5F                     427 	ld	e, a
      000195 56                     428 	ld	d, (hl)
      000196 1A                     429 	ld	a, (de)
      000197 4F                     430 	ld	c, a
      000198 B7                     431 	or	a, a
      000199 CAr43r02               432 	jp	Z, 00117$
                                    433 ;src\nintendo.c:79: UINT8 x = slots[i*5+0];
      00019C 23                     434 	inc	hl
      00019D 2A                     435 	ld	a, (hl+)
      00019E 5F                     436 	ld	e, a
      00019F 56                     437 	ld	d, (hl)
      0001A0 1A                     438 	ld	a, (de)
      0001A1 F8 0E                  439 	ldhl	sp,	#14
      0001A3 77                     440 	ld	(hl), a
                                    441 ;src\nintendo.c:80: UINT8 y = slots[i*5+1];
      0001A4 F8 09                  442 	ldhl	sp,#9
      0001A6 2A                     443 	ld	a, (hl+)
      0001A7 5F                     444 	ld	e, a
      0001A8 56                     445 	ld	d, (hl)
      0001A9 1A                     446 	ld	a, (de)
      0001AA 47                     447 	ld	b, a
                                    448 ;src\nintendo.c:81: UINT8 id = slots[i*5+2];
      0001AB F8 02                  449 	ldhl	sp,	#2
      0001AD 71                     450 	ld	(hl), c
                                    451 ;src\nintendo.c:82: UINT8 previousId = slots[i*5+3];
      0001AE F8 0B                  452 	ldhl	sp,#11
      0001B0 2A                     453 	ld	a, (hl+)
      0001B1 5F                     454 	ld	e, a
      0001B2 56                     455 	ld	d, (hl)
      0001B3 1A                     456 	ld	a, (de)
      0001B4 4F                     457 	ld	c, a
      0001B5 F8 03                  458 	ldhl	sp,	#3
                                    459 ;src\nintendo.c:83: UINT8 speed = slots[i*5+4];
      0001B7 79                     460 	ld	a, c
      0001B8 22                     461 	ld	(hl+), a
      0001B9 7E                     462 	ld	a, (hl)
      0001BA 3C                     463 	inc	a
      0001BB 3C                     464 	inc	a
      0001BC 3C                     465 	inc	a
      0001BD 3C                     466 	inc	a
      0001BE 5F                     467 	ld	e, a
      0001BF 17                     468 	rla
      0001C0 9F                     469 	sbc	a, a
      0001C1 57                     470 	ld	d, a
      0001C2 21r00r00               471 	ld	hl, #_slots
      0001C5 19                     472 	add	hl, de
      0001C6 5E                     473 	ld	e, (hl)
                                    474 ;src\nintendo.c:85: if (previousId != 255)
      0001C7 0C                     475 	inc	c
      0001C8 28 18                  476 	jr	Z, 00106$
                                    477 ;src\nintendo.c:87: set_bkg_tiles(x, y, 1, 1, &previousId);
      0001CA F8 03                  478 	ldhl	sp,	#3
      0001CC 4D                     479 	ld	c, l
      0001CD 54                     480 	ld	d, h
      0001CE D5                     481 	push	de
      0001CF 59                     482 	ld	e,c
      0001D0 D5                     483 	push	de
      0001D1 11 01 01               484 	ld	de, #0x0101
      0001D4 D5                     485 	push	de
      0001D5 C5                     486 	push	bc
      0001D6 33                     487 	inc	sp
      0001D7 F8 15                  488 	ldhl	sp,	#21
      0001D9 7E                     489 	ld	a, (hl)
      0001DA F5                     490 	push	af
      0001DB 33                     491 	inc	sp
      0001DC CDr00r00               492 	call	_set_bkg_tiles
      0001DF E8 06                  493 	add	sp, #6
      0001E1 D1                     494 	pop	de
      0001E2                        495 00106$:
                                    496 ;src\nintendo.c:90: y += speed;
      0001E2 7B                     497 	ld	a, e
      0001E3 80                     498 	add	a, b
      0001E4 47                     499 	ld	b, a
                                    500 ;src\nintendo.c:73: ++usedSlots;
      0001E5 F8 0F                  501 	ldhl	sp,	#15
      0001E7 4E                     502 	ld	c, (hl)
      0001E8 0C                     503 	inc	c
                                    504 ;src\nintendo.c:91: if (y>=144/8)
      0001E9 78                     505 	ld	a, b
      0001EA D6 12                  506 	sub	a, #0x12
      0001EC 38 13                  507 	jr	C, 00110$
                                    508 ;src\nintendo.c:93: slots[i*5+2] = 0;
      0001EE F8 05                  509 	ldhl	sp,	#5
      0001F0 2A                     510 	ld	a, (hl+)
      0001F1 66                     511 	ld	h, (hl)
      0001F2 6F                     512 	ld	l, a
      0001F3 36 00                  513 	ld	(hl), #0x00
                                    514 ;src\nintendo.c:94: slots[i*5+3] = 255;
      0001F5 F8 0B                  515 	ldhl	sp,	#11
      0001F7 2A                     516 	ld	a, (hl+)
      0001F8 66                     517 	ld	h, (hl)
      0001F9 6F                     518 	ld	l, a
      0001FA 36 FF                  519 	ld	(hl), #0xff
                                    520 ;src\nintendo.c:95: ++usedSlots;
      0001FC F8 0F                  521 	ldhl	sp,	#15
      0001FE 71                     522 	ld	(hl), c
      0001FF 18 42                  523 	jr	00117$
      000201                        524 00110$:
                                    525 ;src\nintendo.c:99: get_bkg_tiles(x, y, 1, 1, &previousId);
      000201 F8 03                  526 	ldhl	sp,	#3
      000203 E5                     527 	push	hl
      000204 11 01 01               528 	ld	de, #0x0101
      000207 D5                     529 	push	de
      000208 C5                     530 	push	bc
      000209 33                     531 	inc	sp
      00020A F8 13                  532 	ldhl	sp,	#19
      00020C 7E                     533 	ld	a, (hl)
      00020D F5                     534 	push	af
      00020E 33                     535 	inc	sp
      00020F CDr00r00               536 	call	_get_bkg_tiles
      000212 E8 06                  537 	add	sp, #6
                                    538 ;src\nintendo.c:100: if (previousId==255)
      000214 F8 03                  539 	ldhl	sp,	#3
      000216 7E                     540 	ld	a, (hl)
      000217 3C                     541 	inc	a
      000218 20 04                  542 	jr	NZ, 00108$
                                    543 ;src\nintendo.c:101: previousId = 0;
      00021A AF                     544 	xor	a, a
      00021B F8 03                  545 	ldhl	sp,	#3
      00021D 77                     546 	ld	(hl), a
      00021E                        547 00108$:
                                    548 ;src\nintendo.c:103: set_bkg_tiles(x, y, 1, 1, &id);
      00021E F8 02                  549 	ldhl	sp,	#2
      000220 E5                     550 	push	hl
      000221 11 01 01               551 	ld	de, #0x0101
      000224 D5                     552 	push	de
      000225 C5                     553 	push	bc
      000226 33                     554 	inc	sp
      000227 F8 13                  555 	ldhl	sp,	#19
      000229 7E                     556 	ld	a, (hl)
      00022A F5                     557 	push	af
      00022B 33                     558 	inc	sp
      00022C CDr00r00               559 	call	_set_bkg_tiles
      00022F E8 06                  560 	add	sp, #6
                                    561 ;src\nintendo.c:104: slots[i*5+1] = y;
      000231 F8 09                  562 	ldhl	sp,	#9
      000233 2A                     563 	ld	a, (hl+)
      000234 66                     564 	ld	h, (hl)
      000235 6F                     565 	ld	l, a
      000236 70                     566 	ld	(hl), b
                                    567 ;src\nintendo.c:105: slots[i*5+3] = previousId;
      000237 F8 0B                  568 	ldhl	sp,#11
      000239 2A                     569 	ld	a, (hl+)
      00023A 5F                     570 	ld	e, a
      00023B 56                     571 	ld	d, (hl)
      00023C F8 03                  572 	ldhl	sp,	#3
      00023E 7E                     573 	ld	a, (hl)
      00023F 12                     574 	ld	(de), a
                                    575 ;src\nintendo.c:106: ++usedSlots;
      000240 F8 0F                  576 	ldhl	sp,	#15
      000242 71                     577 	ld	(hl), c
      000243                        578 00117$:
                                    579 ;src\nintendo.c:59: for (UINT8 i=0 ; i<slots_max_count ; ++i)
      000243 F8 10                  580 	ldhl	sp,	#16
      000245 34                     581 	inc	(hl)
      000246 C3rBCr00               582 	jp	00116$
      000249                        583 00114$:
                                    584 ;src\nintendo.c:110: return usedSlots;
      000249 F8 0F                  585 	ldhl	sp,	#15
      00024B 5E                     586 	ld	e, (hl)
                                    587 ;src\nintendo.c:111: }
      00024C E8 11                  588 	add	sp, #17
      00024E C9                     589 	ret
                                    590 ;src\nintendo.c:113: void Scene_Nintendo() BANKED
                                    591 ;	---------------------------------
                                    592 ; Function Scene_Nintendo
                                    593 ; ---------------------------------
                           000001   594 	b_Scene_Nintendo	= 1
      00024F                        595 _Scene_Nintendo::
                                    596 ;src\nintendo.c:115: init_slots();
      00024F CDr00r00               597 	call	_init_slots
                                    598 ;src\nintendo.c:117: while (1)
      000252                        599 00104$:
                                    600 ;src\nintendo.c:119: if (!update_slots())
      000252 CDrB3r00               601 	call	_update_slots
      000255 7B                     602 	ld	a, e
      000256 B7                     603 	or	a, a
                                    604 ;src\nintendo.c:120: return;
      000257 C8                     605 	ret	Z
                                    606 ;src\nintendo.c:122: wait_vbl_done();
      000258 CDr00r00               607 	call	_wait_vbl_done
                                    608 ;src\nintendo.c:124: }
      00025B 18 F5                  609 	jr	00104$
                                    610 	.area _CODE_1
                                    611 	.area _CABS (ABS)
