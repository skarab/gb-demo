                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.1.0 #12072 (MINGW32)
                                      4 ;--------------------------------------------------------
                                      5 	.module sprites_physics
                                      6 	.optsdcc -mgbz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl b_Scene_SpritesPhysics
                                     12 	.globl _Scene_SpritesPhysics
                                     13 	.globl _rand
                                     14 	.globl _set_palette
                                     15 	.globl _init_bkg
                                     16 	.globl _set_sprite_data
                                     17 	.globl _display_off
                                     18 	.globl _wait_vbl_done
                                     19 	.globl _disable_interrupts
                                     20 	.globl _enable_interrupts
                                     21 	.globl ___bank_sprites_physics
                                     22 ;--------------------------------------------------------
                                     23 ; special function registers
                                     24 ;--------------------------------------------------------
                                     25 ;--------------------------------------------------------
                                     26 ; ram data
                                     27 ;--------------------------------------------------------
                                     28 	.area _DATA
                                     29 ;--------------------------------------------------------
                                     30 ; absolute external ram data
                                     31 ;--------------------------------------------------------
                                     32 	.area _DABS (ABS)
                                     33 ;--------------------------------------------------------
                                     34 ; global & static initialisations
                                     35 ;--------------------------------------------------------
                                     36 	.area _HOME
                                     37 	.area _GSINIT
                                     38 	.area _GSFINAL
                                     39 	.area _GSINIT
                                     40 ;--------------------------------------------------------
                                     41 ; Home
                                     42 ;--------------------------------------------------------
                                     43 	.area _HOME
                                     44 	.area _HOME
                                     45 ;--------------------------------------------------------
                                     46 ; code
                                     47 ;--------------------------------------------------------
                                     48 	.area _CODE_5
                                     49 ;src\sprites_physics.c:10: void Scene_SpritesPhysics() BANKED
                                     50 ;	---------------------------------
                                     51 ; Function Scene_SpritesPhysics
                                     52 ; ---------------------------------
                           000005    53 	b_Scene_SpritesPhysics	= 5
      000000                         54 _Scene_SpritesPhysics::
      000000 E8 80                   55 	add	sp, #-128
      000002 E8 DC                   56 	add	sp, #-36
                                     57 ;src\sprites_physics.c:14: disable_interrupts();
      000004 CDr00r00                58 	call	_disable_interrupts
                                     59 ;src\sprites_physics.c:15: DISPLAY_OFF;
      000007 CDr00r00                60 	call	_display_off
                                     61 ;src\sprites_physics.c:17: HIDE_WIN;
      00000A F0r00                   62 	ldh	a, (_LCDC_REG+0)
      00000C E6 DF                   63 	and	a, #0xdf
      00000E E0r00                   64 	ldh	(_LCDC_REG+0),a
                                     65 ;src\sprites_physics.c:18: set_palette(PALETTE(CWHITE, CSILVER, CGRAY, CBLACK));
      000010 21 E4 00                66 	ld	hl, #0x00e4
      000013 E5                      67 	push	hl
      000014 CDr00r00                68 	call	_set_palette
      000017 E8 02                   69 	add	sp, #2
                                     70 ;src\sprites_physics.c:19: init_bkg(255);
      000019 3E FF                   71 	ld	a, #0xff
      00001B F5                      72 	push	af
      00001C 33                      73 	inc	sp
      00001D CDr00r00                74 	call	_init_bkg
      000020 33                      75 	inc	sp
                                     76 ;src\sprites_physics.c:21: SPRITES_8x16;
      000021 F0r00                   77 	ldh	a, (_LCDC_REG+0)
      000023 F6 04                   78 	or	a, #0x04
      000025 E0r00                   79 	ldh	(_LCDC_REG+0),a
                                     80 ;src\sprites_physics.c:22: for (i=0 ; i<8 ; ++i)
      000027 0E 00                   81 	ld	c, #0x00
      000029                         82 00127$:
                                     83 ;src\sprites_physics.c:24: set_sprite_data(168+i*2, 1, axelay_sprites_tiledata+i*16);
      000029 69                      84 	ld	l, c
      00002A 26 00                   85 	ld	h, #0x00
      00002C 29                      86 	add	hl, hl
      00002D 29                      87 	add	hl, hl
      00002E 29                      88 	add	hl, hl
      00002F 29                      89 	add	hl, hl
      000030 7D                      90 	ld	a, l
      000031 C6r00                   91 	add	a, #<(_axelay_sprites_tiledata)
      000033 5F                      92 	ld	e, a
      000034 7C                      93 	ld	a, h
      000035 CEs00                   94 	adc	a, #>(_axelay_sprites_tiledata)
      000037 57                      95 	ld	d, a
      000038 6B                      96 	ld	l, e
      000039 62                      97 	ld	h, d
      00003A 79                      98 	ld	a, c
      00003B 87                      99 	add	a, a
      00003C 47                     100 	ld	b, a
      00003D C6 A8                  101 	add	a, #0xa8
      00003F D5                     102 	push	de
      000040 E5                     103 	push	hl
      000041 26 01                  104 	ld	h, #0x01
      000043 E5                     105 	push	hl
      000044 33                     106 	inc	sp
      000045 F5                     107 	push	af
      000046 33                     108 	inc	sp
      000047 CDr00r00               109 	call	_set_sprite_data
      00004A E8 04                  110 	add	sp, #4
      00004C D1                     111 	pop	de
                                    112 ;src\sprites_physics.c:25: set_sprite_data(168+i*2+1, 1, axelay_sprites_tiledata+i*16+16*8);
      00004D 21 80 00               113 	ld	hl, #0x0080
      000050 19                     114 	add	hl, de
      000051 78                     115 	ld	a, b
      000052 C6 A9                  116 	add	a, #0xa9
      000054 E5                     117 	push	hl
      000055 26 01                  118 	ld	h, #0x01
      000057 E5                     119 	push	hl
      000058 33                     120 	inc	sp
      000059 F5                     121 	push	af
      00005A 33                     122 	inc	sp
      00005B CDr00r00               123 	call	_set_sprite_data
      00005E E8 04                  124 	add	sp, #4
                                    125 ;src\sprites_physics.c:22: for (i=0 ; i<8 ; ++i)
      000060 0C                     126 	inc	c
      000061 79                     127 	ld	a, c
      000062 D6 08                  128 	sub	a, #0x08
      000064 38 C3                  129 	jr	C, 00127$
                                    130 ;src\sprites_physics.c:27: SHOW_SPRITES;
      000066 F0r00                  131 	ldh	a, (_LCDC_REG+0)
      000068 F6 02                  132 	or	a, #0x02
      00006A E0r00                  133 	ldh	(_LCDC_REG+0),a
                                    134 ;src\sprites_physics.c:47: for (i=0 ; i<40 ; ++i)
      00006C 0E 00                  135 	ld	c, #0x00
      00006E                        136 00129$:
                                    137 ;D:/prog/gameboy/gbdk/include/gb/gb.h:1244: shadow_OAM[nb].y = 0;
      00006E 11r00r00               138 	ld	de, #_shadow_OAM+0
      000071 79                     139 	ld	a, c
      000072 26 00                  140 	ld	h, #0x00
      000074 6F                     141 	ld	l, a
      000075 29                     142 	add	hl, hl
      000076 29                     143 	add	hl, hl
      000077 19                     144 	add	hl, de
      000078 36 00                  145 	ld	(hl), #0x00
                                    146 ;src\sprites_physics.c:47: for (i=0 ; i<40 ; ++i)
      00007A 0C                     147 	inc	c
      00007B 79                     148 	ld	a, c
      00007C D6 28                  149 	sub	a, #0x28
      00007E 38 EE                  150 	jr	C, 00129$
                                    151 ;src\sprites_physics.c:52: for (i=0 ; i<sprite_count ; ++i)
      000080 F8 50                  152 	ldhl	sp,	#80
      000082 7D                     153 	ld	a, l
      000083 54                     154 	ld	d, h
      000084 21 82 00               155 	ld	hl, #130
      000087 39                     156 	add	hl, sp
      000088 22                     157 	ld	(hl+), a
      000089 72                     158 	ld	(hl), d
      00008A F8 64                  159 	ldhl	sp,	#100
      00008C 7D                     160 	ld	a, l
      00008D 54                     161 	ld	d, h
      00008E 21 84 00               162 	ld	hl, #132
      000091 39                     163 	add	hl, sp
      000092 22                     164 	ld	(hl+), a
      000093 72                     165 	ld	(hl), d
      000094 F8 78                  166 	ldhl	sp,	#120
      000096 7D                     167 	ld	a, l
      000097 54                     168 	ld	d, h
      000098 21 86 00               169 	ld	hl, #134
      00009B 39                     170 	add	hl, sp
      00009C 22                     171 	ld	(hl+), a
      00009D 72                     172 	ld	(hl), d
      00009E F8 00                  173 	ldhl	sp,	#0
      0000A0 7D                     174 	ld	a, l
      0000A1 54                     175 	ld	d, h
      0000A2 21 88 00               176 	ld	hl, #136
      0000A5 39                     177 	add	hl, sp
      0000A6 22                     178 	ld	(hl+), a
      0000A7 72                     179 	ld	(hl), d
      0000A8 F8 14                  180 	ldhl	sp,	#20
      0000AA 7D                     181 	ld	a, l
      0000AB 54                     182 	ld	d, h
      0000AC 21 8A 00               183 	ld	hl, #138
      0000AF 39                     184 	add	hl, sp
      0000B0 22                     185 	ld	(hl+), a
      0000B1 72                     186 	ld	(hl), d
      0000B2 F8 28                  187 	ldhl	sp,	#40
      0000B4 7D                     188 	ld	a, l
      0000B5 54                     189 	ld	d, h
      0000B6 21 8C 00               190 	ld	hl, #140
      0000B9 39                     191 	add	hl, sp
      0000BA 22                     192 	ld	(hl+), a
      0000BB 72                     193 	ld	(hl), d
      0000BC F8 3C                  194 	ldhl	sp,	#60
      0000BE 7D                     195 	ld	a, l
      0000BF 54                     196 	ld	d, h
      0000C0 21 8E 00               197 	ld	hl, #142
      0000C3 39                     198 	add	hl, sp
      0000C4 22                     199 	ld	(hl+), a
      0000C5 72                     200 	ld	(hl), d
      0000C6 AF                     201 	xor	a, a
      0000C7 21 A3 00               202 	ld	hl, #163
      0000CA 39                     203 	add	hl, sp
      0000CB 77                     204 	ld	(hl), a
      0000CC                        205 00131$:
                                    206 ;src\sprites_physics.c:54: sprite_size[i] = 255;
                                    207 ;c
      0000CC 21 87 00               208 	ld	hl, #135
      0000CF 39                     209 	add	hl, sp
      0000D0 2B                     210 	dec	hl
      0000D1 2A                     211 	ld	a, (hl+)
      0000D2 5F                     212 	ld	e, a
      0000D3 56                     213 	ld	d, (hl)
      0000D4 21 A3 00               214 	ld	hl, #163
      0000D7 39                     215 	add	hl, sp
      0000D8 6E                     216 	ld	l, (hl)
      0000D9 26 00                  217 	ld	h, #0x00
      0000DB 19                     218 	add	hl, de
      0000DC 36 FF                  219 	ld	(hl), #0xff
                                    220 ;src\sprites_physics.c:55: sprite_x[i] = rand()/(128/right);
      0000DE 21 A3 00               221 	ld	hl, #163
      0000E1 39                     222 	add	hl, sp
      0000E2 7E                     223 	ld	a, (hl)
      0000E3 0E 00                  224 	ld	c, #0x00
      0000E5 87                     225 	add	a, a
      0000E6 CB 11                  226 	rl	c
      0000E8 21 9D 00               227 	ld	hl, #157
      0000EB 39                     228 	add	hl, sp
      0000EC 22                     229 	ld	(hl+), a
      0000ED 71                     230 	ld	(hl), c
                                    231 ;c
      0000EE 21 89 00               232 	ld	hl, #137
      0000F1 39                     233 	add	hl, sp
      0000F2 2B                     234 	dec	hl
      0000F3 2A                     235 	ld	a, (hl+)
      0000F4 5F                     236 	ld	e, a
      0000F5 56                     237 	ld	d, (hl)
      0000F6 21 9D 00               238 	ld	hl, #157
      0000F9 39                     239 	add	hl, sp
      0000FA 2A                     240 	ld	a, (hl+)
      0000FB 66                     241 	ld	h, (hl)
      0000FC 6F                     242 	ld	l, a
      0000FD 19                     243 	add	hl, de
      0000FE E5                     244 	push	hl
      0000FF CDr00r00               245 	call	_rand
      000102 C1                     246 	pop	bc
      000103 7B                     247 	ld	a, e
      000104 17                     248 	rla
      000105 9F                     249 	sbc	a, a
      000106 57                     250 	ld	d, a
      000107 C5                     251 	push	bc
      000108 21 05 00               252 	ld	hl, #0x0005
      00010B E5                     253 	push	hl
      00010C D5                     254 	push	de
      00010D CDr00r00               255 	call	__divsint
      000110 E8 04                  256 	add	sp, #4
      000112 C1                     257 	pop	bc
      000113 7B                     258 	ld	a, e
      000114 02                     259 	ld	(bc), a
      000115 03                     260 	inc	bc
      000116 7A                     261 	ld	a, d
      000117 02                     262 	ld	(bc), a
                                    263 ;src\sprites_physics.c:56: sprite_y[i] = rand()/(128/-bottom);
                                    264 ;c
      000118 21 8B 00               265 	ld	hl, #139
      00011B 39                     266 	add	hl, sp
      00011C 2B                     267 	dec	hl
      00011D 2A                     268 	ld	a, (hl+)
      00011E 5F                     269 	ld	e, a
      00011F 56                     270 	ld	d, (hl)
      000120 21 9D 00               271 	ld	hl, #157
      000123 39                     272 	add	hl, sp
      000124 2A                     273 	ld	a, (hl+)
      000125 66                     274 	ld	h, (hl)
      000126 6F                     275 	ld	l, a
      000127 19                     276 	add	hl, de
      000128 E5                     277 	push	hl
      000129 CDr00r00               278 	call	_rand
      00012C C1                     279 	pop	bc
      00012D 7B                     280 	ld	a, e
      00012E 17                     281 	rla
      00012F 9F                     282 	sbc	a, a
      000130 57                     283 	ld	d, a
      000131 C5                     284 	push	bc
      000132 21 06 00               285 	ld	hl, #0x0006
      000135 E5                     286 	push	hl
      000136 D5                     287 	push	de
      000137 CDr00r00               288 	call	__divsint
      00013A E8 04                  289 	add	sp, #4
      00013C C1                     290 	pop	bc
      00013D 7B                     291 	ld	a, e
      00013E 02                     292 	ld	(bc), a
      00013F 03                     293 	inc	bc
      000140 7A                     294 	ld	a, d
      000141 02                     295 	ld	(bc), a
                                    296 ;src\sprites_physics.c:57: sprite_z[i] = TOINT(5);
                                    297 ;c
      000142 21 8D 00               298 	ld	hl, #141
      000145 39                     299 	add	hl, sp
      000146 2B                     300 	dec	hl
      000147 2A                     301 	ld	a, (hl+)
      000148 5F                     302 	ld	e, a
      000149 56                     303 	ld	d, (hl)
      00014A 21 9D 00               304 	ld	hl, #157
      00014D 39                     305 	add	hl, sp
      00014E 2A                     306 	ld	a, (hl+)
      00014F 66                     307 	ld	h, (hl)
      000150 6F                     308 	ld	l, a
      000151 19                     309 	add	hl, de
      000152 4D                     310 	ld	c, l
      000153 44                     311 	ld	b, h
      000154 36 64                  312 	ld	(hl), #0x64
      000156 03                     313 	inc	bc
      000157 3E 00                  314 	ld	a, #0x00
      000159 02                     315 	ld	(bc), a
                                    316 ;src\sprites_physics.c:58: sprite_dx[i] = rand()/32;
                                    317 ;c
      00015A 21 8F 00               318 	ld	hl, #143
      00015D 39                     319 	add	hl, sp
      00015E 2B                     320 	dec	hl
      00015F 2A                     321 	ld	a, (hl+)
      000160 5F                     322 	ld	e, a
      000161 56                     323 	ld	d, (hl)
      000162 21 9D 00               324 	ld	hl, #157
      000165 39                     325 	add	hl, sp
      000166 2A                     326 	ld	a, (hl+)
      000167 66                     327 	ld	h, (hl)
      000168 6F                     328 	ld	l, a
      000169 19                     329 	add	hl, de
      00016A E5                     330 	push	hl
      00016B 7D                     331 	ld	a, l
      00016C 21 A1 00               332 	ld	hl, #161
      00016F 39                     333 	add	hl, sp
      000170 77                     334 	ld	(hl), a
      000171 E1                     335 	pop	hl
      000172 7C                     336 	ld	a, h
      000173 21 A0 00               337 	ld	hl, #160
      000176 39                     338 	add	hl, sp
      000177 77                     339 	ld	(hl), a
      000178 CDr00r00               340 	call	_rand
      00017B 7B                     341 	ld	a, e
      00017C 4F                     342 	ld	c, a
      00017D 17                     343 	rla
      00017E 9F                     344 	sbc	a, a
      00017F 47                     345 	ld	b, a
      000180 21 A1 00               346 	ld	hl, #161
      000183 39                     347 	add	hl, sp
      000184 79                     348 	ld	a, c
      000185 22                     349 	ld	(hl+), a
      000186 70                     350 	ld	(hl), b
      000187 CB 78                  351 	bit	7, b
      000189 28 12                  352 	jr	Z, 00137$
      00018B 21 1F 00               353 	ld	hl, #0x001f
      00018E 09                     354 	add	hl, bc
      00018F E5                     355 	push	hl
      000190 7D                     356 	ld	a, l
      000191 21 A3 00               357 	ld	hl, #163
      000194 39                     358 	add	hl, sp
      000195 77                     359 	ld	(hl), a
      000196 E1                     360 	pop	hl
      000197 7C                     361 	ld	a, h
      000198 21 A2 00               362 	ld	hl, #162
      00019B 39                     363 	add	hl, sp
      00019C 77                     364 	ld	(hl), a
      00019D                        365 00137$:
      00019D 21 A2 00               366 	ld	hl, #162
      0001A0 39                     367 	add	hl, sp
      0001A1 2B                     368 	dec	hl
      0001A2 2A                     369 	ld	a, (hl+)
      0001A3 4F                     370 	ld	c, a
      0001A4 46                     371 	ld	b, (hl)
      0001A5 CB 28                  372 	sra	b
      0001A7 CB 19                  373 	rr	c
      0001A9 CB 28                  374 	sra	b
      0001AB CB 19                  375 	rr	c
      0001AD CB 28                  376 	sra	b
      0001AF CB 19                  377 	rr	c
      0001B1 CB 28                  378 	sra	b
      0001B3 CB 19                  379 	rr	c
      0001B5 CB 28                  380 	sra	b
      0001B7 CB 19                  381 	rr	c
      0001B9 21 9F 00               382 	ld	hl, #159
      0001BC 39                     383 	add	hl, sp
      0001BD 2A                     384 	ld	a, (hl+)
      0001BE 66                     385 	ld	h, (hl)
      0001BF 6F                     386 	ld	l, a
      0001C0 79                     387 	ld	a, c
      0001C1 22                     388 	ld	(hl+), a
      0001C2 70                     389 	ld	(hl), b
                                    390 ;src\sprites_physics.c:59: if (sprite_dx[i]==0) sprite_dx[i] = 1;
      0001C3 78                     391 	ld	a, b
      0001C4 B1                     392 	or	a, c
      0001C5 20 0C                  393 	jr	NZ, 00104$
      0001C7 21 9F 00               394 	ld	hl, #159
      0001CA 39                     395 	add	hl, sp
      0001CB 2A                     396 	ld	a, (hl+)
      0001CC 66                     397 	ld	h, (hl)
      0001CD 6F                     398 	ld	l, a
      0001CE 3E 01                  399 	ld	a, #0x01
      0001D0 22                     400 	ld	(hl+), a
      0001D1 36 00                  401 	ld	(hl), #0x00
      0001D3                        402 00104$:
                                    403 ;src\sprites_physics.c:60: sprite_dy[i] = 4;
                                    404 ;c
      0001D3 21 83 00               405 	ld	hl, #131
      0001D6 39                     406 	add	hl, sp
      0001D7 2B                     407 	dec	hl
      0001D8 2A                     408 	ld	a, (hl+)
      0001D9 5F                     409 	ld	e, a
      0001DA 56                     410 	ld	d, (hl)
      0001DB 21 9D 00               411 	ld	hl, #157
      0001DE 39                     412 	add	hl, sp
      0001DF 2A                     413 	ld	a, (hl+)
      0001E0 66                     414 	ld	h, (hl)
      0001E1 6F                     415 	ld	l, a
      0001E2 19                     416 	add	hl, de
      0001E3 4D                     417 	ld	c, l
      0001E4 44                     418 	ld	b, h
      0001E5 36 04                  419 	ld	(hl), #0x04
      0001E7 03                     420 	inc	bc
      0001E8 3E 00                  421 	ld	a, #0x00
      0001EA 02                     422 	ld	(bc), a
                                    423 ;src\sprites_physics.c:61: sprite_dz[i] = rand()/32;
                                    424 ;c
      0001EB 21 85 00               425 	ld	hl, #133
      0001EE 39                     426 	add	hl, sp
      0001EF 2B                     427 	dec	hl
      0001F0 2A                     428 	ld	a, (hl+)
      0001F1 5F                     429 	ld	e, a
      0001F2 56                     430 	ld	d, (hl)
      0001F3 21 9D 00               431 	ld	hl, #157
      0001F6 39                     432 	add	hl, sp
      0001F7 2A                     433 	ld	a, (hl+)
      0001F8 66                     434 	ld	h, (hl)
      0001F9 6F                     435 	ld	l, a
      0001FA 19                     436 	add	hl, de
      0001FB E5                     437 	push	hl
      0001FC 7D                     438 	ld	a, l
      0001FD 21 A3 00               439 	ld	hl, #163
      000200 39                     440 	add	hl, sp
      000201 77                     441 	ld	(hl), a
      000202 E1                     442 	pop	hl
      000203 7C                     443 	ld	a, h
      000204 21 A2 00               444 	ld	hl, #162
      000207 39                     445 	add	hl, sp
      000208 77                     446 	ld	(hl), a
      000209 CDr00r00               447 	call	_rand
      00020C 7B                     448 	ld	a, e
      00020D 4F                     449 	ld	c, a
      00020E 17                     450 	rla
      00020F 9F                     451 	sbc	a, a
      000210 47                     452 	ld	b, a
      000211 21 9F 00               453 	ld	hl, #159
      000214 39                     454 	add	hl, sp
      000215 79                     455 	ld	a, c
      000216 22                     456 	ld	(hl+), a
      000217 70                     457 	ld	(hl), b
      000218 CB 78                  458 	bit	7, b
      00021A 28 12                  459 	jr	Z, 00138$
      00021C 21 1F 00               460 	ld	hl, #0x001f
      00021F 09                     461 	add	hl, bc
      000220 E5                     462 	push	hl
      000221 7D                     463 	ld	a, l
      000222 21 A1 00               464 	ld	hl, #161
      000225 39                     465 	add	hl, sp
      000226 77                     466 	ld	(hl), a
      000227 E1                     467 	pop	hl
      000228 7C                     468 	ld	a, h
      000229 21 A0 00               469 	ld	hl, #160
      00022C 39                     470 	add	hl, sp
      00022D 77                     471 	ld	(hl), a
      00022E                        472 00138$:
      00022E 21 A0 00               473 	ld	hl, #160
      000231 39                     474 	add	hl, sp
      000232 2B                     475 	dec	hl
      000233 2A                     476 	ld	a, (hl+)
      000234 4F                     477 	ld	c, a
      000235 46                     478 	ld	b, (hl)
      000236 CB 28                  479 	sra	b
      000238 CB 19                  480 	rr	c
      00023A CB 28                  481 	sra	b
      00023C CB 19                  482 	rr	c
      00023E CB 28                  483 	sra	b
      000240 CB 19                  484 	rr	c
      000242 CB 28                  485 	sra	b
      000244 CB 19                  486 	rr	c
      000246 CB 28                  487 	sra	b
      000248 CB 19                  488 	rr	c
      00024A 23                     489 	inc	hl
      00024B 2A                     490 	ld	a, (hl+)
      00024C 66                     491 	ld	h, (hl)
      00024D 6F                     492 	ld	l, a
      00024E 79                     493 	ld	a, c
      00024F 22                     494 	ld	(hl+), a
      000250 70                     495 	ld	(hl), b
                                    496 ;src\sprites_physics.c:62: if (sprite_dz[i]==0) sprite_dz[i] = 1;
      000251 78                     497 	ld	a, b
      000252 B1                     498 	or	a, c
      000253 20 0C                  499 	jr	NZ, 00132$
      000255 21 A1 00               500 	ld	hl, #161
      000258 39                     501 	add	hl, sp
      000259 2A                     502 	ld	a, (hl+)
      00025A 66                     503 	ld	h, (hl)
      00025B 6F                     504 	ld	l, a
      00025C 3E 01                  505 	ld	a, #0x01
      00025E 22                     506 	ld	(hl+), a
      00025F 36 00                  507 	ld	(hl), #0x00
      000261                        508 00132$:
                                    509 ;src\sprites_physics.c:52: for (i=0 ; i<sprite_count ; ++i)
      000261 21 A3 00               510 	ld	hl, #163
      000264 39                     511 	add	hl, sp
      000265 34                     512 	inc	(hl)
      000266 7E                     513 	ld	a, (hl)
      000267 D6 0A                  514 	sub	a, #0x0a
      000269 DArCCr00               515 	jp	C, 00131$
                                    516 ;src\sprites_physics.c:65: DISPLAY_ON;
      00026C F0r00                  517 	ldh	a, (_LCDC_REG+0)
      00026E F6 80                  518 	or	a, #0x80
      000270 E0r00                  519 	ldh	(_LCDC_REG+0),a
                                    520 ;src\sprites_physics.c:66: enable_interrupts();
      000272 CDr00r00               521 	call	_enable_interrupts
                                    522 ;src\sprites_physics.c:72: for (i=0 ; i<sprite_count ; ++i)
      000275                        523 00158$:
      000275 AF                     524 	xor	a, a
      000276 21 9F 00               525 	ld	hl, #159
      000279 39                     526 	add	hl, sp
      00027A 77                     527 	ld	(hl), a
      00027B                        528 00133$:
                                    529 ;src\sprites_physics.c:74: int x = sprite_x[i];
      00027B 21 9F 00               530 	ld	hl, #159
      00027E 39                     531 	add	hl, sp
      00027F 7E                     532 	ld	a, (hl)
      000280 0E 00                  533 	ld	c, #0x00
      000282 87                     534 	add	a, a
      000283 CB 11                  535 	rl	c
      000285 21 A2 00               536 	ld	hl, #162
      000288 39                     537 	add	hl, sp
      000289 22                     538 	ld	(hl+), a
                                    539 ;c
      00028A 79                     540 	ld	a, c
      00028B 32                     541 	ld	(hl-), a
      00028C 2A                     542 	ld	a, (hl+)
      00028D 5F                     543 	ld	e, a
      00028E 56                     544 	ld	d, (hl)
      00028F 21 88 00               545 	ld	hl, #136
      000292 39                     546 	add	hl, sp
      000293 2A                     547 	ld	a, (hl+)
      000294 66                     548 	ld	h, (hl)
      000295 6F                     549 	ld	l, a
      000296 19                     550 	add	hl, de
      000297 4D                     551 	ld	c, l
      000298 44                     552 	ld	b, h
      000299 59                     553 	ld	e, c
      00029A 50                     554 	ld	d, b
      00029B 1A                     555 	ld	a, (de)
      00029C 21 97 00               556 	ld	hl, #151
      00029F 39                     557 	add	hl, sp
      0002A0 22                     558 	ld	(hl+), a
      0002A1 13                     559 	inc	de
      0002A2 1A                     560 	ld	a, (de)
      0002A3 77                     561 	ld	(hl), a
                                    562 ;src\sprites_physics.c:75: int y = sprite_y[i];
                                    563 ;c
      0002A4 21 A3 00               564 	ld	hl, #163
      0002A7 39                     565 	add	hl, sp
      0002A8 2B                     566 	dec	hl
      0002A9 2A                     567 	ld	a, (hl+)
      0002AA 5F                     568 	ld	e, a
      0002AB 56                     569 	ld	d, (hl)
      0002AC 21 8A 00               570 	ld	hl, #138
      0002AF 39                     571 	add	hl, sp
      0002B0 2A                     572 	ld	a, (hl+)
      0002B1 66                     573 	ld	h, (hl)
      0002B2 6F                     574 	ld	l, a
      0002B3 19                     575 	add	hl, de
      0002B4 4D                     576 	ld	c, l
      0002B5 44                     577 	ld	b, h
      0002B6 59                     578 	ld	e, c
      0002B7 50                     579 	ld	d, b
      0002B8 1A                     580 	ld	a, (de)
      0002B9 21 99 00               581 	ld	hl, #153
      0002BC 39                     582 	add	hl, sp
      0002BD 22                     583 	ld	(hl+), a
      0002BE 13                     584 	inc	de
      0002BF 1A                     585 	ld	a, (de)
      0002C0 77                     586 	ld	(hl), a
                                    587 ;src\sprites_physics.c:76: int z = sprite_z[i];
                                    588 ;c
      0002C1 21 A3 00               589 	ld	hl, #163
      0002C4 39                     590 	add	hl, sp
      0002C5 2B                     591 	dec	hl
      0002C6 2A                     592 	ld	a, (hl+)
      0002C7 5F                     593 	ld	e, a
      0002C8 56                     594 	ld	d, (hl)
      0002C9 21 8C 00               595 	ld	hl, #140
      0002CC 39                     596 	add	hl, sp
      0002CD 2A                     597 	ld	a, (hl+)
      0002CE 66                     598 	ld	h, (hl)
      0002CF 6F                     599 	ld	l, a
      0002D0 19                     600 	add	hl, de
      0002D1 4D                     601 	ld	c, l
      0002D2 44                     602 	ld	b, h
      0002D3 59                     603 	ld	e, c
      0002D4 50                     604 	ld	d, b
      0002D5 1A                     605 	ld	a, (de)
      0002D6 21 9B 00               606 	ld	hl, #155
      0002D9 39                     607 	add	hl, sp
      0002DA 22                     608 	ld	(hl+), a
      0002DB 13                     609 	inc	de
      0002DC 1A                     610 	ld	a, (de)
      0002DD 77                     611 	ld	(hl), a
                                    612 ;src\sprites_physics.c:77: int dx = sprite_dx[i];
                                    613 ;c
      0002DE 21 A3 00               614 	ld	hl, #163
      0002E1 39                     615 	add	hl, sp
      0002E2 2B                     616 	dec	hl
      0002E3 2A                     617 	ld	a, (hl+)
      0002E4 5F                     618 	ld	e, a
      0002E5 56                     619 	ld	d, (hl)
      0002E6 21 8E 00               620 	ld	hl, #142
      0002E9 39                     621 	add	hl, sp
      0002EA 2A                     622 	ld	a, (hl+)
      0002EB 66                     623 	ld	h, (hl)
      0002EC 6F                     624 	ld	l, a
      0002ED 19                     625 	add	hl, de
      0002EE 4D                     626 	ld	c, l
      0002EF 44                     627 	ld	b, h
      0002F0 59                     628 	ld	e, c
      0002F1 50                     629 	ld	d, b
      0002F2 1A                     630 	ld	a, (de)
      0002F3 21 A0 00               631 	ld	hl, #160
      0002F6 39                     632 	add	hl, sp
      0002F7 22                     633 	ld	(hl+), a
      0002F8 13                     634 	inc	de
      0002F9 1A                     635 	ld	a, (de)
                                    636 ;src\sprites_physics.c:78: int dy = sprite_dy[i];
                                    637 ;c
      0002FA 22                     638 	ld	(hl+), a
      0002FB 2A                     639 	ld	a, (hl+)
      0002FC 5F                     640 	ld	e, a
      0002FD 56                     641 	ld	d, (hl)
      0002FE 21 82 00               642 	ld	hl, #130
      000301 39                     643 	add	hl, sp
      000302 2A                     644 	ld	a, (hl+)
      000303 66                     645 	ld	h, (hl)
      000304 6F                     646 	ld	l, a
      000305 19                     647 	add	hl, de
      000306 4D                     648 	ld	c, l
      000307 44                     649 	ld	b, h
      000308 59                     650 	ld	e, c
      000309 50                     651 	ld	d, b
      00030A 1A                     652 	ld	a, (de)
      00030B 21 9D 00               653 	ld	hl, #157
      00030E 39                     654 	add	hl, sp
      00030F 22                     655 	ld	(hl+), a
      000310 13                     656 	inc	de
      000311 1A                     657 	ld	a, (de)
      000312 77                     658 	ld	(hl), a
                                    659 ;src\sprites_physics.c:79: int dz = sprite_dz[i];
                                    660 ;c
      000313 21 A3 00               661 	ld	hl, #163
      000316 39                     662 	add	hl, sp
      000317 2B                     663 	dec	hl
      000318 2A                     664 	ld	a, (hl+)
      000319 5F                     665 	ld	e, a
      00031A 56                     666 	ld	d, (hl)
      00031B 21 84 00               667 	ld	hl, #132
      00031E 39                     668 	add	hl, sp
      00031F 2A                     669 	ld	a, (hl+)
      000320 66                     670 	ld	h, (hl)
      000321 6F                     671 	ld	l, a
      000322 19                     672 	add	hl, de
      000323 4D                     673 	ld	c, l
      000324 44                     674 	ld	b, h
      000325 59                     675 	ld	e, c
      000326 50                     676 	ld	d, b
      000327 1A                     677 	ld	a, (de)
      000328 21 A2 00               678 	ld	hl, #162
      00032B 39                     679 	add	hl, sp
      00032C 22                     680 	ld	(hl+), a
      00032D 13                     681 	inc	de
      00032E 1A                     682 	ld	a, (de)
                                    683 ;src\sprites_physics.c:81: if (x+dx<-right || x+dx>right) dx = -dx;
                                    684 ;c
      00032F 32                     685 	ld	(hl-), a
      000330 2B                     686 	dec	hl
      000331 2B                     687 	dec	hl
      000332 2A                     688 	ld	a, (hl+)
      000333 5F                     689 	ld	e, a
      000334 56                     690 	ld	d, (hl)
      000335 21 97 00               691 	ld	hl, #151
      000338 39                     692 	add	hl, sp
      000339 2A                     693 	ld	a, (hl+)
      00033A 66                     694 	ld	h, (hl)
      00033B 6F                     695 	ld	l, a
      00033C 19                     696 	add	hl, de
      00033D 4D                     697 	ld	c, l
      00033E 44                     698 	ld	b, h
      00033F 79                     699 	ld	a, c
      000340 D6 E7                  700 	sub	a, #0xe7
      000342 78                     701 	ld	a, b
      000343 17                     702 	rla
      000344 3F                     703 	ccf
      000345 1F                     704 	rra
      000346 DE 7F                  705 	sbc	a, #0x7f
      000348 38 1B                  706 	jr	C, 00108$
      00034A 58                     707 	ld	e, b
      00034B 16 00                  708 	ld	d, #0x00
      00034D 3E 19                  709 	ld	a, #0x19
      00034F B9                     710 	cp	a, c
      000350 3E 00                  711 	ld	a, #0x00
      000352 98                     712 	sbc	a, b
      000353 CB 7B                  713 	bit	7, e
      000355 28 07                  714 	jr	Z, 00247$
      000357 CB 7A                  715 	bit	7, d
      000359 20 08                  716 	jr	NZ, 00248$
      00035B BF                     717 	cp	a, a
      00035C 18 05                  718 	jr	00248$
      00035E                        719 00247$:
      00035E CB 7A                  720 	bit	7, d
      000360 28 01                  721 	jr	Z, 00248$
      000362 37                     722 	scf
      000363                        723 00248$:
      000363 30 15                  724 	jr	NC, 00109$
      000365                        725 00108$:
      000365 11 00 00               726 	ld	de, #0x0000
      000368 21 A0 00               727 	ld	hl, #160
      00036B 39                     728 	add	hl, sp
      00036C 2A                     729 	ld	a, (hl+)
      00036D 66                     730 	ld	h, (hl)
      00036E 6F                     731 	ld	l, a
      00036F 7B                     732 	ld	a, e
      000370 95                     733 	sub	a, l
      000371 5F                     734 	ld	e, a
      000372 7A                     735 	ld	a, d
      000373 9C                     736 	sbc	a, h
      000374 21 A1 00               737 	ld	hl, #161
      000377 39                     738 	add	hl, sp
      000378 32                     739 	ld	(hl-), a
      000379 73                     740 	ld	(hl), e
      00037A                        741 00109$:
                                    742 ;src\sprites_physics.c:82: if (y+dy<bottom) dy = -dy;
                                    743 ;c
      00037A 21 9A 00               744 	ld	hl, #154
      00037D 39                     745 	add	hl, sp
      00037E 2B                     746 	dec	hl
      00037F 2A                     747 	ld	a, (hl+)
      000380 5F                     748 	ld	e, a
      000381 56                     749 	ld	d, (hl)
      000382 21 9D 00               750 	ld	hl, #157
      000385 39                     751 	add	hl, sp
      000386 2A                     752 	ld	a, (hl+)
      000387 66                     753 	ld	h, (hl)
      000388 6F                     754 	ld	l, a
      000389 19                     755 	add	hl, de
      00038A 4D                     756 	ld	c, l
      00038B 44                     757 	ld	b, h
      00038C 79                     758 	ld	a, c
      00038D D6 EC                  759 	sub	a, #0xec
      00038F 78                     760 	ld	a, b
      000390 17                     761 	rla
      000391 3F                     762 	ccf
      000392 1F                     763 	rra
      000393 DE 7F                  764 	sbc	a, #0x7f
      000395 30 15                  765 	jr	NC, 00112$
      000397 11 00 00               766 	ld	de, #0x0000
      00039A 21 9D 00               767 	ld	hl, #157
      00039D 39                     768 	add	hl, sp
      00039E 2A                     769 	ld	a, (hl+)
      00039F 66                     770 	ld	h, (hl)
      0003A0 6F                     771 	ld	l, a
      0003A1 7B                     772 	ld	a, e
      0003A2 95                     773 	sub	a, l
      0003A3 5F                     774 	ld	e, a
      0003A4 7A                     775 	ld	a, d
      0003A5 9C                     776 	sbc	a, h
      0003A6 21 9E 00               777 	ld	hl, #158
      0003A9 39                     778 	add	hl, sp
      0003AA 32                     779 	ld	(hl-), a
      0003AB 73                     780 	ld	(hl), e
      0003AC                        781 00112$:
                                    782 ;src\sprites_physics.c:83: if (y+dy>top) dy = -5;
                                    783 ;c
      0003AC 21 9A 00               784 	ld	hl, #154
      0003AF 39                     785 	add	hl, sp
      0003B0 2B                     786 	dec	hl
      0003B1 2A                     787 	ld	a, (hl+)
      0003B2 5F                     788 	ld	e, a
      0003B3 56                     789 	ld	d, (hl)
      0003B4 21 9D 00               790 	ld	hl, #157
      0003B7 39                     791 	add	hl, sp
      0003B8 2A                     792 	ld	a, (hl+)
      0003B9 66                     793 	ld	h, (hl)
      0003BA 6F                     794 	ld	l, a
      0003BB 19                     795 	add	hl, de
      0003BC 4D                     796 	ld	c, l
      0003BD 44                     797 	ld	b, h
      0003BE 58                     798 	ld	e, b
      0003BF 16 00                  799 	ld	d, #0x00
      0003C1 3E 0F                  800 	ld	a, #0x0f
      0003C3 B9                     801 	cp	a, c
      0003C4 3E 00                  802 	ld	a, #0x00
      0003C6 98                     803 	sbc	a, b
      0003C7 CB 7B                  804 	bit	7, e
      0003C9 28 07                  805 	jr	Z, 00249$
      0003CB CB 7A                  806 	bit	7, d
      0003CD 20 08                  807 	jr	NZ, 00250$
      0003CF BF                     808 	cp	a, a
      0003D0 18 05                  809 	jr	00250$
      0003D2                        810 00249$:
      0003D2 CB 7A                  811 	bit	7, d
      0003D4 28 01                  812 	jr	Z, 00250$
      0003D6 37                     813 	scf
      0003D7                        814 00250$:
      0003D7 30 09                  815 	jr	NC, 00114$
      0003D9 21 9D 00               816 	ld	hl, #157
      0003DC 39                     817 	add	hl, sp
      0003DD 3E FB                  818 	ld	a, #0xfb
      0003DF 22                     819 	ld	(hl+), a
      0003E0 36 FF                  820 	ld	(hl), #0xff
      0003E2                        821 00114$:
                                    822 ;src\sprites_physics.c:84: if (z+dz<near || z+dz>far) dz = -dz;
                                    823 ;c
      0003E2 21 9C 00               824 	ld	hl, #156
      0003E5 39                     825 	add	hl, sp
      0003E6 2B                     826 	dec	hl
      0003E7 2A                     827 	ld	a, (hl+)
      0003E8 5F                     828 	ld	e, a
      0003E9 56                     829 	ld	d, (hl)
      0003EA 21 A2 00               830 	ld	hl, #162
      0003ED 39                     831 	add	hl, sp
      0003EE 2A                     832 	ld	a, (hl+)
      0003EF 66                     833 	ld	h, (hl)
      0003F0 6F                     834 	ld	l, a
      0003F1 19                     835 	add	hl, de
      0003F2 4D                     836 	ld	c, l
      0003F3 44                     837 	ld	b, h
      0003F4 79                     838 	ld	a, c
      0003F5 D6 14                  839 	sub	a, #0x14
      0003F7 78                     840 	ld	a, b
      0003F8 17                     841 	rla
      0003F9 3F                     842 	ccf
      0003FA 1F                     843 	rra
      0003FB DE 80                  844 	sbc	a, #0x80
      0003FD 38 1B                  845 	jr	C, 00115$
      0003FF 58                     846 	ld	e, b
      000400 16 00                  847 	ld	d, #0x00
      000402 3E A0                  848 	ld	a, #0xa0
      000404 B9                     849 	cp	a, c
      000405 3E 00                  850 	ld	a, #0x00
      000407 98                     851 	sbc	a, b
      000408 CB 7B                  852 	bit	7, e
      00040A 28 07                  853 	jr	Z, 00251$
      00040C CB 7A                  854 	bit	7, d
      00040E 20 08                  855 	jr	NZ, 00252$
      000410 BF                     856 	cp	a, a
      000411 18 05                  857 	jr	00252$
      000413                        858 00251$:
      000413 CB 7A                  859 	bit	7, d
      000415 28 01                  860 	jr	Z, 00252$
      000417 37                     861 	scf
      000418                        862 00252$:
      000418 30 15                  863 	jr	NC, 00116$
      00041A                        864 00115$:
      00041A 11 00 00               865 	ld	de, #0x0000
      00041D 21 A2 00               866 	ld	hl, #162
      000420 39                     867 	add	hl, sp
      000421 2A                     868 	ld	a, (hl+)
      000422 66                     869 	ld	h, (hl)
      000423 6F                     870 	ld	l, a
      000424 7B                     871 	ld	a, e
      000425 95                     872 	sub	a, l
      000426 5F                     873 	ld	e, a
      000427 7A                     874 	ld	a, d
      000428 9C                     875 	sbc	a, h
      000429 21 A3 00               876 	ld	hl, #163
      00042C 39                     877 	add	hl, sp
      00042D 32                     878 	ld	(hl-), a
      00042E 73                     879 	ld	(hl), e
      00042F                        880 00116$:
                                    881 ;src\sprites_physics.c:86: x += dx;
                                    882 ;c
      00042F 21 98 00               883 	ld	hl, #152
      000432 39                     884 	add	hl, sp
      000433 2B                     885 	dec	hl
      000434 2A                     886 	ld	a, (hl+)
      000435 5F                     887 	ld	e, a
      000436 56                     888 	ld	d, (hl)
      000437 21 A0 00               889 	ld	hl, #160
      00043A 39                     890 	add	hl, sp
      00043B 2A                     891 	ld	a, (hl+)
      00043C 66                     892 	ld	h, (hl)
      00043D 6F                     893 	ld	l, a
      00043E 19                     894 	add	hl, de
      00043F 4D                     895 	ld	c, l
      000440 44                     896 	ld	b, h
      000441 21 90 00               897 	ld	hl, #144
      000444 39                     898 	add	hl, sp
      000445 79                     899 	ld	a, c
      000446 22                     900 	ld	(hl+), a
      000447 70                     901 	ld	(hl), b
                                    902 ;src\sprites_physics.c:87: y += dy;
                                    903 ;c
      000448 21 9A 00               904 	ld	hl, #154
      00044B 39                     905 	add	hl, sp
      00044C 2B                     906 	dec	hl
      00044D 2A                     907 	ld	a, (hl+)
      00044E 5F                     908 	ld	e, a
      00044F 56                     909 	ld	d, (hl)
      000450 21 9D 00               910 	ld	hl, #157
      000453 39                     911 	add	hl, sp
      000454 2A                     912 	ld	a, (hl+)
      000455 66                     913 	ld	h, (hl)
      000456 6F                     914 	ld	l, a
      000457 19                     915 	add	hl, de
      000458 4D                     916 	ld	c, l
      000459 44                     917 	ld	b, h
      00045A 21 92 00               918 	ld	hl, #146
      00045D 39                     919 	add	hl, sp
      00045E 79                     920 	ld	a, c
      00045F 22                     921 	ld	(hl+), a
      000460 70                     922 	ld	(hl), b
                                    923 ;src\sprites_physics.c:88: z += dz;
                                    924 ;c
      000461 21 9C 00               925 	ld	hl, #156
      000464 39                     926 	add	hl, sp
      000465 2B                     927 	dec	hl
      000466 2A                     928 	ld	a, (hl+)
      000467 5F                     929 	ld	e, a
      000468 56                     930 	ld	d, (hl)
      000469 21 A2 00               931 	ld	hl, #162
      00046C 39                     932 	add	hl, sp
      00046D 2A                     933 	ld	a, (hl+)
      00046E 66                     934 	ld	h, (hl)
      00046F 6F                     935 	ld	l, a
      000470 19                     936 	add	hl, de
      000471 4D                     937 	ld	c, l
      000472 44                     938 	ld	b, h
      000473 21 94 00               939 	ld	hl, #148
      000476 39                     940 	add	hl, sp
      000477 79                     941 	ld	a, c
      000478 22                     942 	ld	(hl+), a
      000479 70                     943 	ld	(hl), b
                                    944 ;src\sprites_physics.c:90: ++dy;
                                    945 ;c
      00047A 21 9E 00               946 	ld	hl, #158
      00047D 39                     947 	add	hl, sp
      00047E 2B                     948 	dec	hl
      00047F 2A                     949 	ld	a, (hl+)
      000480 5F                     950 	ld	e, a
      000481 56                     951 	ld	d, (hl)
      000482 6B                     952 	ld	l, e
      000483 62                     953 	ld	h, d
      000484 23                     954 	inc	hl
      000485 E5                     955 	push	hl
      000486 7D                     956 	ld	a, l
      000487 21 98 00               957 	ld	hl, #152
      00048A 39                     958 	add	hl, sp
      00048B 77                     959 	ld	(hl), a
      00048C E1                     960 	pop	hl
      00048D 7C                     961 	ld	a, h
      00048E 21 97 00               962 	ld	hl, #151
      000491 39                     963 	add	hl, sp
      000492 77                     964 	ld	(hl), a
                                    965 ;src\sprites_physics.c:92: int px = 160 / 2 + x * 160 / 3 / ((z+20)/2);
      000493 21 91 00               966 	ld	hl, #145
      000496 39                     967 	add	hl, sp
      000497 2B                     968 	dec	hl
      000498 2A                     969 	ld	a, (hl+)
      000499 4F                     970 	ld	c, a
      00049A 46                     971 	ld	b, (hl)
      00049B 69                     972 	ld	l, c
      00049C 60                     973 	ld	h, b
      00049D 29                     974 	add	hl, hl
      00049E 29                     975 	add	hl, hl
      00049F 09                     976 	add	hl, bc
      0004A0 29                     977 	add	hl, hl
      0004A1 29                     978 	add	hl, hl
      0004A2 29                     979 	add	hl, hl
      0004A3 29                     980 	add	hl, hl
      0004A4 29                     981 	add	hl, hl
      0004A5 11 03 00               982 	ld	de, #0x0003
      0004A8 D5                     983 	push	de
      0004A9 E5                     984 	push	hl
      0004AA CDr00r00               985 	call	__divsint
      0004AD E8 04                  986 	add	sp, #4
      0004AF E5                     987 	push	hl
      0004B0 21 9F 00               988 	ld	hl, #159
      0004B3 39                     989 	add	hl, sp
      0004B4 73                     990 	ld	(hl), e
      0004B5 21 A0 00               991 	ld	hl, #160
      0004B8 39                     992 	add	hl, sp
      0004B9 72                     993 	ld	(hl), d
      0004BA E1                     994 	pop	hl
                                    995 ;c
      0004BB 21 95 00               996 	ld	hl, #149
      0004BE 39                     997 	add	hl, sp
      0004BF 2B                     998 	dec	hl
      0004C0 2A                     999 	ld	a, (hl+)
      0004C1 5F                    1000 	ld	e, a
      0004C2 56                    1001 	ld	d, (hl)
      0004C3 21 14 00              1002 	ld	hl, #0x0014
      0004C6 19                    1003 	add	hl, de
      0004C7 E5                    1004 	push	hl
      0004C8 7D                    1005 	ld	a, l
      0004C9 21 9A 00              1006 	ld	hl, #154
      0004CC 39                    1007 	add	hl, sp
      0004CD 77                    1008 	ld	(hl), a
      0004CE E1                    1009 	pop	hl
      0004CF 7C                    1010 	ld	a, h
      0004D0 21 99 00              1011 	ld	hl, #153
      0004D3 39                    1012 	add	hl, sp
      0004D4 32                    1013 	ld	(hl-), a
      0004D5 2A                    1014 	ld	a, (hl+)
      0004D6 4F                    1015 	ld	c, a
      0004D7 3A                    1016 	ld	a, (hl-)
      0004D8 47                    1017 	ld	b, a
      0004D9 7E                    1018 	ld	a, (hl)
      0004DA D6 00                 1019 	sub	a, #0x00
      0004DC 23                    1020 	inc	hl
      0004DD 7E                    1021 	ld	a, (hl)
      0004DE DE 00                 1022 	sbc	a, #0x00
      0004E0 56                    1023 	ld	d, (hl)
      0004E1 3E 00                 1024 	ld	a, #0x00
      0004E3 CB 7F                 1025 	bit	7,a
      0004E5 28 07                 1026 	jr	Z, 00253$
      0004E7 CB 7A                 1027 	bit	7, d
      0004E9 20 08                 1028 	jr	NZ, 00254$
      0004EB BF                    1029 	cp	a, a
      0004EC 18 05                 1030 	jr	00254$
      0004EE                       1031 00253$:
      0004EE CB 7A                 1032 	bit	7, d
      0004F0 28 01                 1033 	jr	Z, 00254$
      0004F2 37                    1034 	scf
      0004F3                       1035 00254$:
      0004F3 3E 00                 1036 	ld	a, #0x00
      0004F5 17                    1037 	rla
      0004F6 21 9A 00              1038 	ld	hl, #154
      0004F9 39                    1039 	add	hl, sp
                                   1040 ;c
      0004FA 32                    1041 	ld	(hl-), a
      0004FB 2B                    1042 	dec	hl
      0004FC 2A                    1043 	ld	a, (hl+)
      0004FD 5F                    1044 	ld	e, a
      0004FE 56                    1045 	ld	d, (hl)
      0004FF 6B                    1046 	ld	l, e
      000500 62                    1047 	ld	h, d
      000501 23                    1048 	inc	hl
      000502 E5                    1049 	push	hl
      000503 7D                    1050 	ld	a, l
      000504 21 9D 00              1051 	ld	hl, #157
      000507 39                    1052 	add	hl, sp
      000508 77                    1053 	ld	(hl), a
      000509 E1                    1054 	pop	hl
      00050A 7C                    1055 	ld	a, h
      00050B 21 9C 00              1056 	ld	hl, #156
      00050E 39                    1057 	add	hl, sp
      00050F 32                    1058 	ld	(hl-), a
      000510 2B                    1059 	dec	hl
      000511 7E                    1060 	ld	a, (hl)
      000512 B7                    1061 	or	a, a
      000513 28 04                 1062 	jr	Z, 00139$
      000515 23                    1063 	inc	hl
      000516 2A                    1064 	ld	a, (hl+)
      000517 4F                    1065 	ld	c, a
      000518 46                    1066 	ld	b, (hl)
      000519                       1067 00139$:
      000519 CB 28                 1068 	sra	b
      00051B CB 19                 1069 	rr	c
      00051D C5                    1070 	push	bc
      00051E 21 9F 00              1071 	ld	hl, #159
      000521 39                    1072 	add	hl, sp
      000522 2A                    1073 	ld	a, (hl+)
      000523 66                    1074 	ld	h, (hl)
      000524 6F                    1075 	ld	l, a
      000525 E5                    1076 	push	hl
      000526 CDr00r00              1077 	call	__divsint
      000529 E8 04                 1078 	add	sp, #4
      00052B 7B                    1079 	ld	a, e
      00052C C6 50                 1080 	add	a, #0x50
      00052E 4F                    1081 	ld	c, a
                                   1082 ;src\sprites_physics.c:93: int py = 144 / 2 + y * 144 / 3 / ((z+20)/2);
      00052F 21 93 00              1083 	ld	hl, #147
      000532 39                    1084 	add	hl, sp
      000533 2B                    1085 	dec	hl
      000534 2A                    1086 	ld	a, (hl+)
      000535 5F                    1087 	ld	e, a
      000536 56                    1088 	ld	d, (hl)
      000537 6B                    1089 	ld	l, e
      000538 62                    1090 	ld	h, d
      000539 29                    1091 	add	hl, hl
      00053A 29                    1092 	add	hl, hl
      00053B 29                    1093 	add	hl, hl
      00053C 19                    1094 	add	hl, de
      00053D 29                    1095 	add	hl, hl
      00053E 29                    1096 	add	hl, hl
      00053F 29                    1097 	add	hl, hl
      000540 29                    1098 	add	hl, hl
      000541 C5                    1099 	push	bc
      000542 11 03 00              1100 	ld	de, #0x0003
      000545 D5                    1101 	push	de
      000546 E5                    1102 	push	hl
      000547 CDr00r00              1103 	call	__divsint
      00054A E8 04                 1104 	add	sp, #4
      00054C E5                    1105 	push	hl
      00054D 21 A1 00              1106 	ld	hl, #161
      000550 39                    1107 	add	hl, sp
      000551 73                    1108 	ld	(hl), e
      000552 21 A2 00              1109 	ld	hl, #162
      000555 39                    1110 	add	hl, sp
      000556 72                    1111 	ld	(hl), d
      000557 E1                    1112 	pop	hl
      000558 C1                    1113 	pop	bc
      000559 21 99 00              1114 	ld	hl, #153
      00055C 39                    1115 	add	hl, sp
      00055D 2B                    1116 	dec	hl
      00055E 2A                    1117 	ld	a, (hl+)
      00055F 5F                    1118 	ld	e, a
      000560 2A                    1119 	ld	a, (hl+)
      000561 57                    1120 	ld	d, a
      000562 7E                    1121 	ld	a, (hl)
      000563 B7                    1122 	or	a, a
      000564 28 04                 1123 	jr	Z, 00140$
      000566 23                    1124 	inc	hl
      000567 2A                    1125 	ld	a, (hl+)
      000568 5F                    1126 	ld	e, a
      000569 56                    1127 	ld	d, (hl)
      00056A                       1128 00140$:
      00056A CB 2A                 1129 	sra	d
      00056C CB 1B                 1130 	rr	e
      00056E C5                    1131 	push	bc
      00056F D5                    1132 	push	de
      000570 21 A1 00              1133 	ld	hl, #161
      000573 39                    1134 	add	hl, sp
      000574 2A                    1135 	ld	a, (hl+)
      000575 66                    1136 	ld	h, (hl)
      000576 6F                    1137 	ld	l, a
      000577 E5                    1138 	push	hl
      000578 CDr00r00              1139 	call	__divsint
      00057B E8 04                 1140 	add	sp, #4
      00057D C1                    1141 	pop	bc
      00057E 7B                    1142 	ld	a, e
      00057F C6 48                 1143 	add	a, #0x48
      000581 47                    1144 	ld	b, a
                                   1145 ;src\sprites_physics.c:97: int s = size_near - (size_near - size_far) * (z-near) / (far-near);
      000582 21 95 00              1146 	ld	hl, #149
      000585 39                    1147 	add	hl, sp
      000586 2B                    1148 	dec	hl
      000587 2A                    1149 	ld	a, (hl+)
      000588 5F                    1150 	ld	e, a
      000589 56                    1151 	ld	d, (hl)
      00058A 21 14 00              1152 	ld	hl, #0x0014
      00058D 7B                    1153 	ld	a, e
      00058E 95                    1154 	sub	a, l
      00058F 5F                    1155 	ld	e, a
      000590 7A                    1156 	ld	a, d
      000591 9C                    1157 	sbc	a, h
      000592 21 9E 00              1158 	ld	hl, #158
      000595 39                    1159 	add	hl, sp
      000596 32                    1160 	ld	(hl-), a
      000597 7B                    1161 	ld	a, e
      000598 22                    1162 	ld	(hl+), a
      000599 2B                    1163 	dec	hl
      00059A 2A                    1164 	ld	a, (hl+)
      00059B 5F                    1165 	ld	e, a
      00059C 56                    1166 	ld	d, (hl)
      00059D 6B                    1167 	ld	l, e
      00059E 62                    1168 	ld	h, d
      00059F 29                    1169 	add	hl, hl
      0005A0 19                    1170 	add	hl, de
      0005A1 29                    1171 	add	hl, hl
      0005A2 19                    1172 	add	hl, de
      0005A3 C5                    1173 	push	bc
      0005A4 11 8C 00              1174 	ld	de, #0x008c
      0005A7 D5                    1175 	push	de
      0005A8 E5                    1176 	push	hl
      0005A9 CDr00r00              1177 	call	__divsint
      0005AC E8 04                 1178 	add	sp, #4
      0005AE C1                    1179 	pop	bc
      0005AF 3E 07                 1180 	ld	a, #0x07
      0005B1 93                    1181 	sub	a, e
      0005B2 21 9B 00              1182 	ld	hl, #155
      0005B5 39                    1183 	add	hl, sp
      0005B6 77                    1184 	ld	(hl), a
                                   1185 ;src\sprites_physics.c:99: if (size != sprite_size[i])
                                   1186 ;c
      0005B7 21 87 00              1187 	ld	hl, #135
      0005BA 39                    1188 	add	hl, sp
      0005BB 2B                    1189 	dec	hl
      0005BC 2A                    1190 	ld	a, (hl+)
      0005BD 5F                    1191 	ld	e, a
      0005BE 56                    1192 	ld	d, (hl)
      0005BF 21 9F 00              1193 	ld	hl, #159
      0005C2 39                    1194 	add	hl, sp
      0005C3 6E                    1195 	ld	l, (hl)
      0005C4 26 00                 1196 	ld	h, #0x00
      0005C6 19                    1197 	add	hl, de
      0005C7 E5                    1198 	push	hl
      0005C8 7D                    1199 	ld	a, l
      0005C9 21 9E 00              1200 	ld	hl, #158
      0005CC 39                    1201 	add	hl, sp
      0005CD 77                    1202 	ld	(hl), a
      0005CE E1                    1203 	pop	hl
      0005CF 7C                    1204 	ld	a, h
      0005D0 21 9D 00              1205 	ld	hl, #157
      0005D3 39                    1206 	add	hl, sp
      0005D4 32                    1207 	ld	(hl-), a
      0005D5 2A                    1208 	ld	a, (hl+)
      0005D6 5F                    1209 	ld	e, a
      0005D7 56                    1210 	ld	d, (hl)
      0005D8 1A                    1211 	ld	a, (de)
      0005D9 23                    1212 	inc	hl
      0005DA 77                    1213 	ld	(hl), a
      0005DB 21 9B 00              1214 	ld	hl, #155
      0005DE 39                    1215 	add	hl, sp
      0005DF 7E                    1216 	ld	a, (hl)
      0005E0 21 9E 00              1217 	ld	hl, #158
      0005E3 39                    1218 	add	hl, sp
      0005E4 96                    1219 	sub	a, (hl)
      0005E5 28 28                 1220 	jr	Z, 00119$
                                   1221 ;src\sprites_physics.c:101: set_sprite_tile(i, 168+size*2);
      0005E7 21 9B 00              1222 	ld	hl, #155
      0005EA 39                    1223 	add	hl, sp
      0005EB 7E                    1224 	ld	a, (hl)
      0005EC 87                    1225 	add	a, a
      0005ED C6 A8                 1226 	add	a, #0xa8
      0005EF 5F                    1227 	ld	e, a
                                   1228 ;D:/prog/gameboy/gbdk/include/gb/gb.h:1145: shadow_OAM[nb].tile=tile;
      0005F0 21 9F 00              1229 	ld	hl, #159
      0005F3 39                    1230 	add	hl, sp
      0005F4 6E                    1231 	ld	l, (hl)
      0005F5 16 00                 1232 	ld	d, #0x00
      0005F7 62                    1233 	ld	h, d
      0005F8 29                    1234 	add	hl, hl
      0005F9 29                    1235 	add	hl, hl
      0005FA D5                    1236 	push	de
      0005FB 11r00r00              1237 	ld	de, #_shadow_OAM
      0005FE 19                    1238 	add	hl, de
      0005FF D1                    1239 	pop	de
      000600 23                    1240 	inc	hl
      000601 23                    1241 	inc	hl
      000602 73                    1242 	ld	(hl), e
                                   1243 ;src\sprites_physics.c:102: sprite_size[i] = size;
      000603 21 9D 00              1244 	ld	hl, #157
      000606 39                    1245 	add	hl, sp
      000607 2B                    1246 	dec	hl
      000608 2A                    1247 	ld	a, (hl+)
      000609 5F                    1248 	ld	e, a
      00060A 3A                    1249 	ld	a, (hl-)
      00060B 57                    1250 	ld	d, a
      00060C 2B                    1251 	dec	hl
      00060D 7E                    1252 	ld	a, (hl)
      00060E 12                    1253 	ld	(de), a
      00060F                       1254 00119$:
                                   1255 ;src\sprites_physics.c:105: move_sprite(i, px, py);
      00060F 21 9D 00              1256 	ld	hl, #157
      000612 39                    1257 	add	hl, sp
      000613 78                    1258 	ld	a, b
      000614 22                    1259 	ld	(hl+), a
                                   1260 ;D:/prog/gameboy/gbdk/include/gb/gb.h:1218: OAM_item_t * itm = &shadow_OAM[nb];
      000615 79                    1261 	ld	a, c
      000616 22                    1262 	ld	(hl+), a
      000617 4E                    1263 	ld	c, (hl)
      000618 06 00                 1264 	ld	b, #0x00
      00061A 69                    1265 	ld	l, c
      00061B 60                    1266 	ld	h, b
      00061C 29                    1267 	add	hl, hl
      00061D 29                    1268 	add	hl, hl
      00061E 11r00r00              1269 	ld	de, #_shadow_OAM
      000621 19                    1270 	add	hl, de
      000622 5D                    1271 	ld	e, l
      000623 54                    1272 	ld	d, h
                                   1273 ;D:/prog/gameboy/gbdk/include/gb/gb.h:1219: itm->y=y, itm->x=x;
      000624 21 9D 00              1274 	ld	hl, #157
      000627 39                    1275 	add	hl, sp
      000628 7E                    1276 	ld	a, (hl)
      000629 12                    1277 	ld	(de), a
      00062A 13                    1278 	inc	de
      00062B 23                    1279 	inc	hl
      00062C 7E                    1280 	ld	a, (hl)
      00062D 12                    1281 	ld	(de), a
                                   1282 ;src\sprites_physics.c:107: sprite_x[i] = x;
      00062E CB 21                 1283 	sla	c
      000630 CB 10                 1284 	rl	b
      000632 21 88 00              1285 	ld	hl, #136
      000635 39                    1286 	add	hl, sp
      000636 2A                    1287 	ld	a, (hl+)
      000637 66                    1288 	ld	h, (hl)
      000638 6F                    1289 	ld	l, a
      000639 09                    1290 	add	hl, bc
      00063A 5D                    1291 	ld	e, l
      00063B 54                    1292 	ld	d, h
      00063C 21 90 00              1293 	ld	hl, #144
      00063F 39                    1294 	add	hl, sp
      000640 7E                    1295 	ld	a, (hl)
      000641 12                    1296 	ld	(de), a
      000642 13                    1297 	inc	de
      000643 23                    1298 	inc	hl
      000644 7E                    1299 	ld	a, (hl)
      000645 12                    1300 	ld	(de), a
                                   1301 ;src\sprites_physics.c:108: sprite_y[i] = y;
      000646 21 8A 00              1302 	ld	hl, #138
      000649 39                    1303 	add	hl, sp
      00064A 2A                    1304 	ld	a, (hl+)
      00064B 66                    1305 	ld	h, (hl)
      00064C 6F                    1306 	ld	l, a
      00064D 09                    1307 	add	hl, bc
      00064E 5D                    1308 	ld	e, l
      00064F 54                    1309 	ld	d, h
      000650 21 92 00              1310 	ld	hl, #146
      000653 39                    1311 	add	hl, sp
      000654 7E                    1312 	ld	a, (hl)
      000655 12                    1313 	ld	(de), a
      000656 13                    1314 	inc	de
      000657 23                    1315 	inc	hl
      000658 7E                    1316 	ld	a, (hl)
      000659 12                    1317 	ld	(de), a
                                   1318 ;src\sprites_physics.c:109: sprite_z[i] = z;
      00065A 21 8C 00              1319 	ld	hl, #140
      00065D 39                    1320 	add	hl, sp
      00065E 2A                    1321 	ld	a, (hl+)
      00065F 66                    1322 	ld	h, (hl)
      000660 6F                    1323 	ld	l, a
      000661 09                    1324 	add	hl, bc
      000662 5D                    1325 	ld	e, l
      000663 54                    1326 	ld	d, h
      000664 21 94 00              1327 	ld	hl, #148
      000667 39                    1328 	add	hl, sp
      000668 7E                    1329 	ld	a, (hl)
      000669 12                    1330 	ld	(de), a
      00066A 13                    1331 	inc	de
      00066B 23                    1332 	inc	hl
      00066C 7E                    1333 	ld	a, (hl)
      00066D 12                    1334 	ld	(de), a
                                   1335 ;src\sprites_physics.c:110: sprite_dx[i] = dx;
      00066E 21 8E 00              1336 	ld	hl, #142
      000671 39                    1337 	add	hl, sp
      000672 2A                    1338 	ld	a, (hl+)
      000673 66                    1339 	ld	h, (hl)
      000674 6F                    1340 	ld	l, a
      000675 09                    1341 	add	hl, bc
      000676 5D                    1342 	ld	e, l
      000677 54                    1343 	ld	d, h
      000678 21 A0 00              1344 	ld	hl, #160
      00067B 39                    1345 	add	hl, sp
      00067C 7E                    1346 	ld	a, (hl)
      00067D 12                    1347 	ld	(de), a
      00067E 13                    1348 	inc	de
      00067F 23                    1349 	inc	hl
      000680 7E                    1350 	ld	a, (hl)
      000681 12                    1351 	ld	(de), a
                                   1352 ;src\sprites_physics.c:111: sprite_dy[i] = dy;
      000682 21 82 00              1353 	ld	hl, #130
      000685 39                    1354 	add	hl, sp
      000686 2A                    1355 	ld	a, (hl+)
      000687 66                    1356 	ld	h, (hl)
      000688 6F                    1357 	ld	l, a
      000689 09                    1358 	add	hl, bc
      00068A 5D                    1359 	ld	e, l
      00068B 54                    1360 	ld	d, h
      00068C 21 96 00              1361 	ld	hl, #150
      00068F 39                    1362 	add	hl, sp
      000690 7E                    1363 	ld	a, (hl)
      000691 12                    1364 	ld	(de), a
      000692 13                    1365 	inc	de
      000693 23                    1366 	inc	hl
      000694 7E                    1367 	ld	a, (hl)
      000695 12                    1368 	ld	(de), a
                                   1369 ;src\sprites_physics.c:112: sprite_dz[i] = dz;			
      000696 21 84 00              1370 	ld	hl, #132
      000699 39                    1371 	add	hl, sp
      00069A 2A                    1372 	ld	a, (hl+)
      00069B 66                    1373 	ld	h, (hl)
      00069C 6F                    1374 	ld	l, a
      00069D 09                    1375 	add	hl, bc
      00069E 4D                    1376 	ld	c, l
      00069F 44                    1377 	ld	b, h
      0006A0 21 A2 00              1378 	ld	hl, #162
      0006A3 39                    1379 	add	hl, sp
      0006A4 2A                    1380 	ld	a, (hl+)
      0006A5 02                    1381 	ld	(bc), a
      0006A6 03                    1382 	inc	bc
      0006A7 7E                    1383 	ld	a, (hl)
      0006A8 02                    1384 	ld	(bc), a
                                   1385 ;src\sprites_physics.c:72: for (i=0 ; i<sprite_count ; ++i)
      0006A9 21 9F 00              1386 	ld	hl, #159
      0006AC 39                    1387 	add	hl, sp
      0006AD 34                    1388 	inc	(hl)
      0006AE 7E                    1389 	ld	a, (hl)
      0006AF D6 0A                 1390 	sub	a, #0x0a
      0006B1 DAr7Br02              1391 	jp	C, 00133$
                                   1392 ;src\sprites_physics.c:115: wait_vbl_done();
      0006B4 CDr00r00              1393 	call	_wait_vbl_done
      0006B7 C3r75r02              1394 	jp	00158$
                                   1395 ;src\sprites_physics.c:121: }
      0006BA E8 7F                 1396 	add	sp, #127
      0006BC E8 25                 1397 	add	sp, #37
      0006BE C9                    1398 	ret
                           000005  1399 ___bank_sprites_physics	=	0x0005
                                   1400 	.area _CODE_5
                                   1401 	.area _CABS (ABS)
